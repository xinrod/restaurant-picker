(this["webpackJsonprestaurant-picker"]=this["webpackJsonprestaurant-picker"]||[]).push([[0],{13:function(e,t,a){},17:function(e,t,a){},19:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(5),l=a.n(o),s=(a(13),a(1)),c=a(2),i=a(4),u=a(3),m=function(e){var t="",a="",n="",o="";return isNaN(e.doordash)||(t="$"),isNaN(e.ubereats)||(a="$"),isNaN(e.postmates)||(n="$"),isNaN(e.grubhub)||(o="$"),r.a.createElement("a",{href:e.link,className:"bg-light-green dib br3 pa3 ma2 grow bw2 shadow5 nostyle"},r.a.createElement("div",null,r.a.createElement("img",{src:"https://robohash.org/".concat(e.id,"?200x200"),alt:"".concat(e.name),width:"200",height:"200"}),r.a.createElement("div",null,r.a.createElement("h2",null,e.name),r.a.createElement("p",null,"DoorDash: ",t+e.doordash),r.a.createElement("p",null,"UberEats: ",a+e.ubereats),r.a.createElement("p",null,"Postmates: ",n+e.postmates),r.a.createElement("p",null,"GrubHub: ",o+e.grubhub))))},d=function(e){var t=e.restaurants,a=t.map((function(e,a){return r.a.createElement(m,{key:t[a].id,id:t[a].id,name:t[a].name,doordash:t[a].doordash,ubereats:t[a].ubereats,postmates:t[a].postmates,grubhub:t[a].grubhub,link:t[a].link})}));return r.a.createElement("div",null,a)},h=function(e){var t=e.searchChange;return r.a.createElement("div",{className:"pa2"},r.a.createElement("input",{type:"search",className:"pa3 ba b--green bg-lightest-blue",placeholder:"search restaurants",onChange:t}))},b=function(e){return r.a.createElement("div",{style:{overflowY:"scroll",border:"1px solid black",height:"800px"}},e.children)},f=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={hasError:!1},n}return Object(c.a)(a,[{key:"componentDidCatch",value:function(e,t){this.setState({hasError:!0})}},{key:"render",value:function(){return this.state.hasError?r.a.createElement("h1",null,"Oops. Something went wrong."):this.props.children}}]),a}(r.a.Component),p=function(e){var t=e.onSubmit;return r.a.createElement("form",{onSubmit:t},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Name: "),r.a.createElement("input",{className:"form-control",id:"name"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"DoorDash Price: "),r.a.createElement("input",{className:"form-control",id:"doordash",placeholder:"0.00"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"UberEats Price: "),r.a.createElement("input",{className:"form-control",id:"ubereats",placeholder:"0.00"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Postmates Price: "),r.a.createElement("input",{className:"form-control",id:"postmates",placeholder:"0.00"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Grubhub Price: "),r.a.createElement("input",{className:"form-control",id:"grubhub",placeholder:"0.00"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Link: "),r.a.createElement("input",{className:"form-control",id:"link",placeholder:"https://www..."})),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{className:"form-control btn btn-primary",type:"submit"},"Submit"),r.a.createElement("br",null),"Note: The restaurants added are temporary, the REST server is currently not real."))},g=a(7),E=a.n(g),v=function(e){var t=e.onClickOutside,a=e.onKeyDown,n=e.modalRef,o=e.buttonRef,s=e.closeModal,c=e.onSubmit;return l.a.createPortal(r.a.createElement(E.a,null,r.a.createElement("aside",{tag:"aside",role:"dialog",tabIndex:"-1","aria-modal":"true",className:"modal-cover",onClick:t,onKeyDown:a},r.a.createElement("div",{className:"modal-area",ref:n},r.a.createElement("button",{ref:o,"aria-label":"Close Modal","aria-labelledby":"close-modal",className:"_modal-close",onClick:s},r.a.createElement("span",{id:"close-modal",className:"_hide-visual"},"Close"),r.a.createElement("svg",{className:"_modal-close-icon",viewBox:"0 0 40 40"},r.a.createElement("path",{d:"M 10,10 L 30,30 M 30,10 L 10,30"}))),r.a.createElement("div",{className:"modal-body"},r.a.createElement(p,{onSubmit:c}))))),document.body)},N=function(e){var t=e.triggerText,a=e.buttonRef,n=e.showModal;return r.a.createElement("button",{className:"btn btn-lg pa3 ba b--green bg-lightest-blue",ref:a,onClick:n},t)},w=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={isShown:!1},e.showModal=function(){e.setState({isShown:!0},(function(){e.closeButton.focus()})),e.toggleScrollLock()},e.closeModal=function(){e.setState({isShown:!1}),e.TriggerButton.focus(),e.toggleScrollLock()},e.onKeyDown=function(t){27===t.keyCode&&e.closeModal()},e.onClickOutside=function(t){e.modal&&e.modal.contains(t.target)||e.closeModal()},e.toggleScrollLock=function(){document.querySelector("html").classList.toggle("scroll-lock")},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(N,{showModal:this.showModal,buttonRef:function(t){return e.TriggerButton=t},triggerText:this.props.triggerText}),this.state.isShown?r.a.createElement(v,{onSubmit:this.props.onSubmit,modalRef:function(t){return e.modal=t},buttonRef:function(t){return e.closeButton=t},closeModal:this.closeModal,onKeyDown:this.onKeyDown,onClickOutside:this.onClickOutside}):null)}}]),a}(n.Component),k=(a(17),function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).onSearchChange=function(t){e.setState({searchfield:t.target.value})},e.addRestaurantName=function(t,a,n,r,o,l){""===a&&(a="N/A"),""===n&&(n="N/A"),""===r&&(r="N/A"),""===o&&(o="N/A"),fetch("https://my-json-server.typicode.com/xinrod/rpicker-server/restaurants",{method:"POST",body:JSON.stringify({name:t,doordash:a,ubereats:n,postmates:r,grubhub:o,link:l}),headers:{"Content-type":"application/json; charset=UTF-8"}}).then((function(e){return e.json()})).then((function(t){t.id=e.state.restaurants.length+1;for(var a=e.state.restaurants,n=!1,r=0;r<a.length;r++)if(a[r].name.toLowerCase().trim()===t.name.toLowerCase().trim()){n=!0;break}n||a.push(t),e.setState({restaurants:a})}))},e.onSubmit=function(t){t.preventDefault(t),e.addRestaurantName(t.target.name.value,t.target.doordash.value,t.target.ubereats.value,t.target.postmates.value,t.target.grubhub.value,t.target.link.value)},e.state={restaurants:[],searchfield:""},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("https://my-json-server.typicode.com/xinrod/rpicker-server/restaurants").then((function(e){return e.json()})).then((function(t){return e.setState({restaurants:t})}))}},{key:"render",value:function(){var e=this,t=this.state.restaurants.filter((function(t){return t.name.toLowerCase().includes(e.state.searchfield.toLowerCase())}));return 0===this.state.restaurants.length?r.a.createElement("h1",null,"Loading..."):r.a.createElement("div",{className:"tc"},r.a.createElement("h1",null,"Delivery Picker"),r.a.createElement("p",null,"Note: Robots are placeholder images"),r.a.createElement(h,{searchChange:this.onSearchChange}),r.a.createElement(w,{triggerText:"Add a Restaurant",onSubmit:this.onSubmit}),r.a.createElement(b,null,r.a.createElement(f,null,r.a.createElement(d,{restaurants:t}))))}}]),a}(r.a.Component));a(18),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(k,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},8:function(e,t,a){e.exports=a(19)}},[[8,1,2]]]);
//# sourceMappingURL=main.dc0fc59a.chunk.js.map