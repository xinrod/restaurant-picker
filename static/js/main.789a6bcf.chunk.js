(this["webpackJsonprestaurant-picker"]=this["webpackJsonprestaurant-picker"]||[]).push([[0],{13:function(e,t,a){},17:function(e,t,a){},19:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(5),l=a.n(o),s=(a(13),a(1)),c=a(2),i=a(4),u=a(3),m=function(e){return n.a.createElement("div",{className:"bg-light-green dib br3 pa3 ma2 grow bw2 shadow5"},n.a.createElement("div",null,n.a.createElement("img",{src:"https://robohash.org/".concat(e.id,"?200x200"),alt:"".concat(e.name),width:"200",height:"200"}),n.a.createElement("div",null,n.a.createElement("h2",null,e.name),n.a.createElement("p",null,"DoorDash: $",e.doordash),n.a.createElement("p",null,"UberEats: $",e.ubereats),n.a.createElement("p",null,"Postmates: $",e.postmates),n.a.createElement("p",null,"GrubHub: $",e.grubhub))))},d=function(e){var t=e.restaurants,a=t.map((function(e,a){return n.a.createElement(m,{key:t[a].id,id:t[a].id,name:t[a].name,doordash:t[a].doordash,ubereats:t[a].ubereats,postmates:t[a].postmates,grubhub:t[a].grubhub})}));return n.a.createElement("div",null,a,";")},h=function(e){var t=e.searchChange;return n.a.createElement("div",{className:"pa2"},n.a.createElement("input",{type:"search",className:"pa3 ba b--green bg-lightest-blue",placeholder:"search restaurants",onChange:t}))},b=function(e){return n.a.createElement("div",{style:{overflowY:"scroll",border:"1px solid black",height:"800px"}},e.children)},f=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var r;return Object(s.a)(this,a),(r=t.call(this,e)).state={hasError:!1},r}return Object(c.a)(a,[{key:"componentDidCatch",value:function(e,t){this.setState({hasError:!0})}},{key:"render",value:function(){return this.state.hasError?n.a.createElement("h1",null,"Oops. Something went wrong."):this.props.children}}]),a}(n.a.Component),g=function(e){var t=e.onSubmit;return n.a.createElement("form",{onSubmit:t},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"name"},"Name: "),n.a.createElement("input",{className:"form-control",id:"name"})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"email"},"DoorDash Price: "),n.a.createElement("input",{className:"form-control",id:"doordash",placeholder:"0.00"})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"email"},"UberEats Price: "),n.a.createElement("input",{className:"form-control",id:"ubereats",placeholder:"0.00"})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"email"},"Postmates Price: "),n.a.createElement("input",{className:"form-control",id:"postmates",placeholder:"0.00"})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"email"},"Grubhub Price: "),n.a.createElement("input",{className:"form-control",id:"grubhub",placeholder:"0.00"})),n.a.createElement("div",{className:"form-group"},n.a.createElement("button",{className:"form-control btn btn-primary",type:"submit"},"Submit"),n.a.createElement("br",null),"Note: The restaurants added are temporary, the REST server is currently not real."))},p=a(7),E=a.n(p),v=function(e){var t=e.onClickOutside,a=e.onKeyDown,r=e.modalRef,o=e.buttonRef,s=e.closeModal,c=e.onSubmit;return l.a.createPortal(n.a.createElement(E.a,null,n.a.createElement("aside",{tag:"aside",role:"dialog",tabIndex:"-1","aria-modal":"true",className:"modal-cover",onClick:t,onKeyDown:a},n.a.createElement("div",{className:"modal-area",ref:r},n.a.createElement("button",{ref:o,"aria-label":"Close Modal","aria-labelledby":"close-modal",className:"_modal-close",onClick:s},n.a.createElement("span",{id:"close-modal",className:"_hide-visual"},"Close"),n.a.createElement("svg",{className:"_modal-close-icon",viewBox:"0 0 40 40"},n.a.createElement("path",{d:"M 10,10 L 30,30 M 30,10 L 10,30"}))),n.a.createElement("div",{className:"modal-body"},n.a.createElement(g,{onSubmit:c}))))),document.body)},w=function(e){var t=e.triggerText,a=e.buttonRef,r=e.showModal;return n.a.createElement("button",{className:"btn btn-lg pa3 ba b--green bg-lightest-blue",ref:a,onClick:r},t)},y=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).state={isShown:!1},e.showModal=function(){e.setState({isShown:!0},(function(){e.closeButton.focus()})),e.toggleScrollLock()},e.closeModal=function(){e.setState({isShown:!1}),e.TriggerButton.focus(),e.toggleScrollLock()},e.onKeyDown=function(t){27===t.keyCode&&e.closeModal()},e.onClickOutside=function(t){e.modal&&e.modal.contains(t.target)||e.closeModal()},e.toggleScrollLock=function(){document.querySelector("html").classList.toggle("scroll-lock")},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return n.a.createElement(n.a.Fragment,null,n.a.createElement(w,{showModal:this.showModal,buttonRef:function(t){return e.TriggerButton=t},triggerText:this.props.triggerText}),this.state.isShown?n.a.createElement(v,{onSubmit:this.props.onSubmit,modalRef:function(t){return e.modal=t},buttonRef:function(t){return e.closeButton=t},closeModal:this.closeModal,onKeyDown:this.onKeyDown,onClickOutside:this.onClickOutside}):null)}}]),a}(r.Component),N=(a(17),function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).onSearchChange=function(t){e.setState({searchfield:t.target.value})},e.addRestaurantName=function(t,a,r,n,o){""===a&&(a="N/A"),""===r&&(r="N/A"),""===n&&(n="N/A"),""===o&&(o="N/A"),fetch("https://my-json-server.typicode.com/xinrod/rpicker-server/restaurants",{method:"POST",body:JSON.stringify({name:t,doordash:a,ubereats:r,postmates:n,grubhub:o}),headers:{"Content-type":"application/json; charset=UTF-8"}}).then((function(e){return e.json()})).then((function(t){t.id=e.state.restaurants.length+1;for(var a=e.state.restaurants,r=!1,n=0;n<a.length;n++)if(a[n].name.toLowerCase().trim()===t.name.toLowerCase().trim()){r=!0;break}r||a.push(t),e.setState({restaurants:a})}))},e.onSubmit=function(t){t.preventDefault(t),e.addRestaurantName(t.target.name.value,t.target.doordash.value,t.target.ubereats.value,t.target.postmates.value,t.target.grubhub.value)},e.state={restaurants:[],searchfield:""},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("https://my-json-server.typicode.com/xinrod/rpicker-server/restaurants").then((function(e){return e.json()})).then((function(t){return e.setState({restaurants:t})}))}},{key:"render",value:function(){var e=this,t=this.state.restaurants.filter((function(t){return t.name.toLowerCase().includes(e.state.searchfield.toLowerCase())}));return 0===this.state.restaurants.length?n.a.createElement("h1",null,"Loading..."):n.a.createElement("div",{className:"tc"},n.a.createElement("h1",null,"Delivery Picker"),n.a.createElement(h,{searchChange:this.onSearchChange}),n.a.createElement(y,{triggerText:"Add a Restaurant",onSubmit:this.onSubmit}),n.a.createElement(b,null,n.a.createElement(f,null,n.a.createElement(d,{restaurants:t}))))}}]),a}(n.a.Component));a(18),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(N,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},8:function(e,t,a){e.exports=a(19)}},[[8,1,2]]]);
//# sourceMappingURL=main.789a6bcf.chunk.js.map